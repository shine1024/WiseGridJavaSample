<HTML>
<HEAD>
<TITLE>응용예제 - 드릴다운</TITLE>
<meta http-equiv='Content-Type' content='text/html; charset=utf-8'>
<link rel='stylesheet' href='/css/wisegrid.css' type='text/css'>
<script type='text/javascript' src='/js/WiseGrid_TAG.js'></script>
<script type='text/javascript' src='/js/WiseGrid_Property.js'></script>
<script type='text/javascript' src='/js/jquery/jquery-1.11.1.min.js'></script>
<script language=javascript for='WiseGrid' event='Initialize()'>
    init(document.WiseGrid);
</script>
 <script>
 var treeData = [
         ["*", "1", "루트", "0"],
         ["1", "2", "1-1번", "0"],
         ["2", "3", "2-1번", "1"],
         ["2", "4", "2-2번", "1"],
         ["3", "5", "3-1번", "2"],
         ["3", "6", "3-2번", "2"],
         ["4", "7", "4-1번", "2"],
         ["1", "8", "1-2번", "0"]
 ];

 var errorTreeData = [
     ["*", "1", "루트", "0"],
     ["1", "2", "1-1번", "0"],
     ["2", "2", "2-1번", "1"],
     ["2", "4", "2-2번", "1"],
     ["3", "5", "3-1번", "2"],
     ["3", "6", "3-2번", "2"],
     ["4", "7", "4-1번", "2"],
     ["1", "8", "1-2번", "0"]
 ];

 function init(GridObj) {
    GridObj.strBgImage = "/images/unipost_logo_white.gif";
    GridObj.strHDClickAction = "select"
    setProperty(GridObj);
    setHeader(GridObj);
    GridObj.AddImageList("ITEM_FLAG", "/images/drildown01.gif");
    GridObj.AddImageList("ITEM_FLAG", "/images/drildown02.gif");
    GridObj.AddImageList("ITEM_FLAG", "/images/drildown03.gif");
 }

function setHeader(GridObj) {
    GridObj.AddHeader("ITEM_FLAG", 		"ITEM_FLAG",		"t_imagetext", 		100,	200,	false);
    GridObj.BoundHeader();
    GridObj.SetTreeMode("ITEM_FLAG", "*", ",");
}

function setTreeData() {
    var GridObj = document.WiseGrid;
    GridObj.SetTreeMode("ITEM_FLAG", "*", ",");
    for(var i= 0, len=treeData.length; i<len; i++) {
        GridObj.AddRow();
        GridObj.SetCellHiddenValue('ITEM_FLAG', i, treeData[i][0]+","+treeData[i][1]);
        GridObj.SetCellValue('ITEM_FLAG', i, treeData[i][2]);
        GridObj.SetCellImage("ITEM_FLAG", i, treeData[i][3]);
    }
}

function setErrorTreeData() {
    var GridObj = document.WiseGrid;
    GridObj.SetTreeMode("ITEM_FLAG", "*", ",");
    for(var i= 0, len=errorTreeData.length; i<len; i++) {
        GridObj.AddRow();
        GridObj.SetCellHiddenValue('ITEM_FLAG', i, errorTreeData[i][0]+","+errorTreeData[i][1]);
        GridObj.SetCellValue('ITEM_FLAG', i, errorTreeData[i][2]);
        GridObj.SetCellImage("ITEM_FLAG", i, errorTreeData[i][3]);
    }
}

function doQuery() {
    var GridObj = document.WiseGrid;
    GridObj.SetTreeMode("ITEM_FLAG", "*", ",");
    GridObj.RemoveAllData();
    setTreeData();
}

function error_doQuery() {
    var GridObj = document.WiseGrid;
    GridObj.SetTreeMode("ITEM_FLAG", "*", ",");
    GridObj.RemoveAllData();
    setErrorTreeData();
}

</script>
</HEAD>
<BODY bgcolor='#FFFFFF' text='#000000'>
<form name="examForm">
    <input type="hidden" name="imageUrl" value="">
    <table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr height="20">
            <td class="title1_k">
                &nbsp;응용예제<br><hr>
            </td>
        </tr>
        <tr height="20">
            <td class="title2_k">
                &nbsp;&nbsp;&nbsp; 드릴다운
            </td>
        </tr>

    </table>
    <hr>
    <table width="98%" border="0" cellspacing="0" cellpadding="0"  class="title3">
        <tr>
            <td>
                <table width="100%" border="0" cellpadding="2" cellspacing="0" >
                    <tr>
                        <td valign="top" align="right">
                            <table border=0 cellpadding="0" cellspacing="0">
                                <tr>
                                    <td><script language="javascript">btn(" error_doQuery()","에러조회")</script></td>
                                    <td><script language="javascript">btn("doQuery()","조회")</script></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>

    <table width="98%" border="0" cellpadding="0" cellspacing="0" >
        <tr>
            <td bgcolor="#00455d" height="3"></td>
        </tr>
        <tr>
            <td align='left'>
                <script>initWiseGrid("WiseGrid", "100%", "350");</script>
            </td>
        </tr>
    </table>
</form>
</BODY>
</HTML>
